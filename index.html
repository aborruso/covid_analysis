<!DOCTYPE html>
<html>
  <head>
    <title>Exploring NZ COVID19 data</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <style type="text/css">
        body {
          font-family: 'Source Sans Pro', sans-serif;
          margin-bottom: 50px;
        }
      
        pre,
        tt,
        code,
        .code,
        #detail {
          font-family: 'Open Sans', sans-serif;
        }
      
        h1 {
          color: #0097db;
          font-family: 'Open Sans Condensed', sans-serif;
          font-size: 54px;
          font-weight: 700;
          line-height: 44px;
          margin: 0 0 0;
          padding: 10px 15px;
          text-align: center;
          text-transform: uppercase;
        }
      
        h2 {
          color: #111;
          font-family: 'Open Sans Condensed', sans-serif;
          font-size: 28px;
          font-weight: 700;
          line-height: 28px;
          margin: 0 0 4px;
          padding: 0 30px;
          text-align: left;
          text-transform: uppercase;
        }
      
        a {
          color: #0097db;
          text-decoration: none;
        }
      
        a:hover {
          color: #00608c;
          text-decoration: underline;
        }
      
        #wrapper {
          width: 50%;
          /* specify a width! */
          margin: 0 auto;
          /* center */
        }

        /* #vis {
          width: 50%;
          margin: 0 auto;
        } */
        
        hr.style9 {
          border-top: 1px dashed #8c8b8b;
          border-bottom: 1px dashed #fff;
        }
      
        #date {
          color: #111;
          display: block;
          font-family: 'Open Sans', sans-serif;
          font-size: 16px;
          position: relative;
          text-align: center;
          z-index: 1;
          font-weight: 700;
        }
      
        p {
          color: #111;
          font-family: 'Open Sans', sans-serif;
          font-size: 16px;
          line-height: 28px;
          margin: 0 0 8px;
        }
      
        /* headlines with lines */
        .decorated {
          overflow: hidden;
          text-align: center;
        }
      
        .decorated>span {
          position: relative;
          display: inline-block;
        }
      
        .decorated>span:before,
        .decorated>span:after {
          content: '';
          position: absolute;
          top: 50%;
          border-bottom: 2px solid;
          width: 591px;
          /* half of limiter*/
          margin: 0 20px;
        }
      
        .decorated>span:before {
          right: 100%;
        }
      
        .decorated>span:after {
          left: 100%;
        }
      
        footer {
          position: fixed;
          height: 50px;
          background-color: rgb(255, 255, 255);
          bottom: 0px;
          left: 0px;
          right: 0px;
          margin-bottom: 0px;
        }
      
        .container {
          width: 95%;
        }
      </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.10.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.8.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.5.1"></script>
  </head>
  <body>
    
<div id="wrapper">

<p>
  <div id="date">
    <p class="decorated"><span>
        <script>document.write(new Date().toDateString());</script></span>
    </p>
  </div>
</p>

<h1>Exploration of NZ COVID19 cases</h1>
<div style="text-align:center">See code at <a href="https://github.com/sirselim/covid_analysis">https://github.com/sirselim/covid_analysis</a></div>
<div style="text-align:center">All data has been pulled from the NZ Ministry of Health COVID19 website: <a href="https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-situation/covid-19-current-cases/covid-19-current-cases-details#probable">[link]</a></div>

<br>
    
<div class="container">
    
  <ul class="nav nav-pills nav-justified">
    <li class="active"><a data-toggle="pill" href="#home">Home</a></li>
    <li><a data-toggle="pill" href="#sex">By Sex</a></li>
    <li><a data-toggle="pill" href="#dhb">By DHB</a></li>
    <li><a data-toggle="pill" href="#agegroup">By Age Group</a></li>
  </ul>
    
<div class="tab-content">
    
<!-- Home Page ------------------------------------------------------------------------------------------ -->
<div id="home" class="tab-pane fade in active">
    <h3>Overview of total confirmed COVID cases in New Zealand</h3>
    <br>
    <!-- Container for the visualization -->
    <div id="vis1" style="text-align:center"></div>
</div>

<!-- Sex Page ------------------------------------------------------------------------------------------ -->
<div id="sex" class="tab-pane fade in active">
  <h3>Overview broken down by Sex of all confirmed cases</h3>
  <br>
  <!-- Container for the visualization -->
  <div id="vis2" style="text-align:center"></div>
</div>

<!-- DHB Page ------------------------------------------------------------------------------------------ -->
<div id="dhb" class="tab-pane fade in active">
  <h3>Overview broken down by DHB location of all confirmed cases</h3>
  <br>
  <!-- Container for the visualization -->
  <div id="vis3" style="text-align:center"></div>
</div>

<!-- Age group Page ------------------------------------------------------------------------------------------ -->
<div id="agegroup" class="tab-pane fade in active">
  <h3>Overview broken down by Age Group of all confirmed cases</h3>
  <br>
  <!-- Container for the visualization -->
  <div id="vis4" style="text-align:center"></div>
</div>

<!-- end of tabbed sections  -->
</div>

</div>

<footer>
  <center><small>Open Access (2020) - <a href="https://github.com/sirselim/covid_analysis">sirselim</a></small></center>
</footer>

</div>

</body>
</html>

<!-- vega-lite scripts -->
<!-- plot the breakdown of cases per day and per DHB -->
<script type="text/javascript">
  var yourVlSpec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "simple vega-lite chart with linked data",
    "data": { "url": "https://raw.githubusercontent.com/sirselim/covid_analysis/master/data//NZCOVID_confirmed_formatted.json" },
    "vconcat": [
      {
        "width": 800,
        "height": 220,
        "mark": {
          "type": "bar",
          "tooltip": true
        },
        "title": "Confirmed COVID cases in NZ per calendar day",
        "encoding": {
          "x": {
            "field": "Date of report",
            "type": "nominal",
            "axis": {
              "title": "date"
            }
          },
          "y": {
            "aggregate": "count",
            "field": "Date of report",
            "type": "quantitative",
            "axis": {
              "title": "number of cases"
            }
          }
        }
      },
      {
        "width": 800,
        "height": 220,
        "mark": {
          "type": "bar",
          "tooltip": true
        },
        "title": "Confirmed COVID cases in NZ DHBs",
        "encoding": {
          "x": {
            "field": "DHB",
            "type": "nominal",
            "sort": "y",
            "axis": {
              "title": "DHB"
            }
          },
          "y": {
            "aggregate": "count",
            "field": "DHB",
            "type": "quantitative",
            "axis": {
              "title": "number of cases"
            }
          }
        }
      }
    ]
  };
  vegaEmbed('#vis1', yourVlSpec);
</script>

<!-- plot the breakdown of cases per day and DHB by Sex -->
<script type="text/javascript">
  var yourV2Spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "simple vega-lite chart with linked data",
    "data": { "url": "https://raw.githubusercontent.com/sirselim/covid_analysis/master/data//NZCOVID_confirmed_formatted.json" },
    "vconcat": [
      {
        "width": 800,
        "height": 220,
        "mark": {
          "type": "bar",
          "tooltip": true
        },
        "title": "Confirmed COVID cases in NZ per calendar day (grouped by sex)",
        "encoding": {
          "x": {
            "field": "Date of report",
            "type": "nominal",
            "axis": {
              "title": "date"
            }
          },
          "y": {
            "aggregate": "count",
            "field": "Date of report",
            "type": "quantitative",
            "axis": {
              "title": "number of cases"
            }
          },
          "color": {
            "field": "Sex",
            "type": "nominal"
          }
        }
      },
      {
        "width": 800,
        "height": 220,
        "mark": {
          "type": "bar",
          "tooltip": true
        },
        "title": "Confirmed COVID cases in NZ DHBs (grouped by sex)",
        "encoding": {
          "x": {
            "field": "DHB",
            "type": "nominal",
            "sort": "y",
            "axis": {
              "title": "DHB"
            }
          },
          "y": {
            "aggregate": "count",
            "field": "DHB",
            "type": "quantitative",
            "axis": {
              "title": "number of cases"
            }
          },
          "color": {
            "field": "Sex",
            "type": "nominal"
          }
        }
      }
    ]
  };
  vegaEmbed('#vis2', yourV2Spec);
</script>

<!-- plot the breakdown of cases per day by DHB -->
<script type="text/javascript">
  var yourV3Spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": 800,
      "height": 500,
      "padding": 5,
      "description": "simple vega-lite chart with linked data",
      "title": "Confirmed COVID cases in NZ per calendar day (grouped by DHB)",
      "data": {
        "url": "https://raw.githubusercontent.com/sirselim/covid_analysis/master/data//NZCOVID_confirmed_formatted.json"
      },
      "mark": {
        "type": "bar",
        "tooltip": true
      },
      "encoding": {
        "x": {
          "field": "Date of report",
          "type": "nominal",
          "axis": { "title": "date" }
        },
        "y": {
          "aggregate": "count",
          "field": "Date of report",
          "type": "quantitative",
          "axis": { "title": "number of cases" }
        },
        "color": {
          "field": "DHB",
          "type": "nominal"
        }
      }
    };
  vegaEmbed('#vis3', yourV3Spec);
</script>

<!-- plot the breakdown of cases per day by Age group -->
<script type="text/javascript">
  var yourV4Spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 800,
    "height": 500,
    "padding": 5,
    "description": "simple vega-lite chart with linked data",
    "title": "Confirmed COVID cases in NZ per calendar day (grouped by age group)",
    "data": {
      "url": "https://raw.githubusercontent.com/sirselim/covid_analysis/master/data//NZCOVID_confirmed_formatted.json"
    },
    "mark": {
      "type": "bar",
      "tooltip": true
    },
    "encoding": {
      "x": {
        "field": "Date of report",
        "type": "nominal",
        "axis": { "title": "date" }
      },
      "y": {
        "aggregate": "count",
        "field": "Date of report",
        "type": "quantitative",
        "axis": { "title": "number of cases" }
      },
      "color": {
        "field": "Age group",
        "type": "nominal"
      }
    }
  };
  vegaEmbed('#vis4', yourV4Spec);
</script>